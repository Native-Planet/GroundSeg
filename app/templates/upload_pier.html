<!doctype html>
<head>
<title>NativePlanet</title>
    <link rel="stylesheet" 
     href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.4.0/min/dropzone.min.css"/>

    <link rel="stylesheet" 
     href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.4.0/min/basic.min.css"/>

    <script type="application/javascript" 
     src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.4.0/min/dropzone.min.js">
    </script>
<body>

<div class="box">
<div>
<h2>Upload a pier folder</h2>
   <p>Should be zip'd or tar'd. When finished please refresh page. </p>
<form method="POST" action='upload/pier' class="dropzone dz-clickable" 
      id="dropper" enctype="multipart/form-data">
</form>

<script type="application/javascript">
   Dropzone.options.dropper = {
      init: function () {
        this.on("complete", function(file) {
         if (this.getUploadingFiles().length === 0 && this.getQueuedFiles().length === 0) {
             window.location = "{{ url_for('mainscreen') }}";
         }
        });
      },
      paramName: 'file',
      acceptedFiles: '.zip, .tar, .tgz',
      chunking: true,
      forceChunking: true,
      url: '/upload/pier',
      maxFilesize: 11000000, // megabytes
      chunkSize: 50000000 // bytes
  }
</script>
</div></div>

</body>
